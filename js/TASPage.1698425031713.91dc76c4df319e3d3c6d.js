"use strict";(self.webpackChunkdbaas=self.webpackChunkdbaas||[]).push([[252],{4748:(e,t,n)=>{n.d(t,{ZP:()=>a});var o=n(5893),r=n(3264),c=n(4184),i=n.n(c),s=function(){return s=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},s.apply(this,arguments)};const a=function(e){var t=e.children,n=e.className,c=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}(e,["children","className"]);return(0,r.useEffect)((function(){console.error('Using deprecated "Main" component. Do not use it. Either remove it from your JSX or replace it by "section" HTML element.')}),[]),(0,o.jsx)("section",s({},c,{className:"".concat(i()(n,"pf-l-page__main-section pf-c-page__main-section"))},{children:t}))}},3920:(e,t,n)=>{n.r(t),n.d(t,{default:()=>m});var o=n(5893),r=n(3264),c=n.n(r),i=n(5021),s=n(4748),a=n(9173),d=n(5140),l=n(655),u=n(9704),p=n(3215),h=n(355);const f=(0,r.lazy)((()=>n.e(804).then(n.bind(n,7804)))),g=()=>{const{appAction:e}=(0,d.Z)(),{nextStep:t,prevStep:n,step:g}=(()=>{const[e,t]=(0,r.useState)(0);return{step:e,nextStep:()=>t((e=>e+1)),prevStep:()=>t((e=>e-1))}})(),{handleDownloadPullSecret:m,userHasDownloadedSecret:v}=(()=>{const{accessToken:e}=function(){const[e,t]=c().useState(void 0),[n,o]=c().useState(void 0),{auth:r}=(0,d.Z)();return c().useEffect((()=>{(0,p.L1)(),r.getToken().then((e=>t(e)))}),[]),c().useEffect((()=>{void 0!==e?function(e){return(0,l.__awaiter)(this,void 0,void 0,(function*(){const t=yield fetch("https://api.openshift.com/api/accounts_mgmt/v1/access_token",{method:"POST",headers:{Authorization:`Bearer ${e}`}});return yield t.json()}))}(e).then((e=>{"auths"in e?(console.log("received authorization token"),o(e)):console.error("received error response from createAuthorizationToken",e)})):console.log("authToken is undefined")}),[e]),{accessToken:n}}(),{analytics:t,auth:n}=(0,d.Z)(),r=(0,u.I0)(),[i,s]=c().useState(!1),a=c().useCallback((()=>(0,l.__awaiter)(void 0,void 0,void 0,(function*(){if(void 0===e)return console.error("could not download pull secret, access token is undefined"),void r((0,p.wN)({variant:"danger",title:"Could not download the pull secret",description:(0,o.jsx)("p",{children:"User Access Token is empty. Please try refreshing the page and checking the console output for errors."})}));const t=yield n.getUser();if(void 0===t)return console.error("could not download pull secret, user object is undefined"),void r((0,p.wN)({variant:"danger",title:"Could not get user information",description:(0,o.jsx)("p",{children:"Could not read the user object."})}));const c=Object.assign(Object.assign({},e),{orgId:t.identity.org_id,userId:t.identity.account_number}),i=new Blob([JSON.stringify(c)],{type:"application/json;charset=utf-8"}),a=URL.createObjectURL(i),d=document.createElement("a");d.href=a,d.download="pull-secret.json",document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(a),s(!0)}))),[e,n,r,s]);return{userHasDownloadedSecret:i,handleDownloadPullSecret:c().useCallback((()=>(0,l.__awaiter)(void 0,void 0,void 0,(function*(){t.track(h.Z.TAS_PULL_SECRET_DOWNLOAD_CLICKED),a()}))),[t,a])}})(),{handleDocumentationClick:b}=function(){const{analytics:e}=(0,d.Z)();return{handleDocumentationClick:(0,r.useCallback)((()=>{e.track(h.Z.TAS_DOCUMENTATION_CLICKED),window.open("https://access.redhat.com/documentation/en-us/red_hat_trusted_artifact_signer/2023-q4/html-single/deployment_guide/index")}),[e])}}();return(0,r.useEffect)((()=>{e("secure-sign")}),[]),(0,o.jsxs)(c().Fragment,{children:[(0,o.jsxs)("div",Object.assign({style:{paddingLeft:"2.5rem",paddingTop:"1rem",paddingBottom:"1rem"}},{children:[(0,o.jsx)(a.Z,{title:"Artifact Signer"}),(0,o.jsx)("p",{children:"Enables cryptographic signing, verification and provenance of software"})]})),(0,o.jsx)(s.ZP,{children:(0,o.jsx)(i.Stack,Object.assign({hasGutter:!0},{children:(0,o.jsx)(i.StackItem,{children:(0,o.jsx)(r.Suspense,Object.assign({fallback:(0,o.jsx)(i.Spinner,{})},{children:(0,o.jsx)(f,{nextStep:t,previousStep:n,currentStep:g,onDownloadSecret:m,userHasDownloadedSecret:v,onDocumentationClick:b})}))})}))})]})};g.displayName="Trusted Artifact Signer";const m=g},355:(e,t,n)=>{n.d(t,{Z:()=>o});const o=Object.assign(Object.assign({},{TAS_PULL_SECRET_DOWNLOAD_CLICKED:"tas-ui-clicked-download-pull-secret",TAS_DOCUMENTATION_CLICKED:"tas-ui-clicked-documentation"}),{TC_WAITING_LIST_CLICK:"tc-learn-more-1-click"})}}]);